<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UGC - Onboarding</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
      color: #333;
    }
    .container {
      max-width: 100%;
      height: 100vh;
      overflow: hidden;
      position: relative;
    }
    .carousel {
      display: flex;
      width: 100%;
      height: 100%;
      transition: transform 0.5s ease;
    }
    .slide {
      min-width: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 20px;
      box-sizing: border-box;
      text-align: center;
    }
    .slide-content {
      max-width: 80%;
    }
    .slide img {
      max-width: 60%;
      max-height: 40vh;
      margin-bottom: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    h1 {
      font-size: 24px;
      margin-bottom: 15px;
    }
    p {
      font-size: 16px;
      line-height: 1.5;
      margin-bottom: 30px;
    }
    .indicators {
      position: absolute;
      bottom: 100px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      gap: 10px;
    }
    .indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: #ccc;
      cursor: pointer;
    }
    .indicator.active {
      background-color: #007bff;
    }
    .navigation {
      position: absolute;
      bottom: 40px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      gap: 20px;
    }
    .button {
      padding: 12px 24px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 30px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .button:hover {
      background-color: #0056b3;
    }
    .button.secondary {
      background-color: transparent;
      color: #007bff;
      border: 1px solid #007bff;
    }
    .registration {
      display: none;
      padding: 20px;
      width: 100%;
      height: 100%;
      box-sizing: border-box;
      text-align: center;
    }
    .registration.active {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    .role-buttons {
      display: flex;
      gap: 20px;
      margin-bottom: 30px;
    }
    .role-button {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      border: 2px solid #ddd;
      border-radius: 10px;
      width: 130px;
      cursor: pointer;
      transition: all 0.3s;
    }
    .role-button.active {
      border-color: #007bff;
      background-color: rgba(0, 123, 255, 0.1);
    }
    .role-button img {
      width: 50px;
      height: 50px;
      margin-bottom: 10px;
      object-fit: cover;
      border-radius: 50%;
    }
    .form-group {
      margin-bottom: 20px;
      width: 100%;
      max-width: 300px;
      position: relative;
    }
    input {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 16px;
    }
    input:focus {
      outline: none;
      border-color: #007bff;
    }
    input.error {
      border-color: #dc3545;
    }
    .error-message {
      color: #dc3545;
      font-size: 12px;
      margin-top: 5px;
      text-align: left;
      display: none;
    }
    .error-message.visible {
      display: block;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Carousel -->
    <div class="carousel" id="carousel">
      <div class="slide">
        <div class="slide-content">
          <img src="/assets/ugc_intro.jpg" alt="UGC Intro" onerror="this.src='https://via.placeholder.com/400x300/007bff/ffffff?text=UGC'">
          <h1>Добро пожаловать в UGC</h1>
          <p>Платформа, соединяющая креативных создателей контента и бренды для успешного сотрудничества</p>
        </div>
      </div>
      
      <div class="slide">
        <div class="slide-content">
          <img src="/assets/what_is_ugc.jpg" alt="What is UGC" onerror="this.src='https://via.placeholder.com/400x300/28a745/ffffff?text=User-Generated+Content'">
          <h1>Что такое UGC?</h1>
          <p>UGC или User-Generated Content — это контент, созданный пользователями для брендов. Естественные, аутентичные материалы, которые вызывают больше доверия у аудитории.</p>
        </div>
      </div>
      
      <div class="slide">
        <div class="slide-content">
          <img src="/assets/for_bloggers.jpg" alt="For Bloggers" onerror="this.src='https://via.placeholder.com/400x300/fd7e14/ffffff?text=For+Bloggers'">
          <h1>Для блогеров</h1>
          <p>Создавайте качественный контент для брендов, расширяйте портфолио и зарабатывайте на своём творчестве</p>
        </div>
      </div>
      
      <div class="slide">
        <div class="slide-content">
          <img src="/assets/for_brands.jpg" alt="For Brands" onerror="this.src='https://via.placeholder.com/400x300/6f42c1/ffffff?text=For+Brands'">
          <h1>Для брендов</h1>
          <p>Получите доступ к талантливым создателям контента, которые помогут представить ваш продукт в лучшем свете</p>
        </div>
      </div>
    </div>
    
    <!-- Indicators -->
    <div class="indicators" id="indicators"></div>
    
    <!-- Navigation -->
    <div class="navigation">
      <button class="button secondary" id="prevBtn">Назад</button>
      <button class="button" id="nextBtn">Далее</button>
    </div>
    
    <!-- Registration -->
    <div class="registration" id="registration">
      <h1>Регистрация</h1>
      <p>Выберите роль и начните работу с UGC прямо сейчас</p>
      
      <div class="role-buttons">
        <div class="role-button" id="blogger-role">
          <img src="/assets/blogger_icon.jpg" alt="Blogger" onerror="this.src='https://via.placeholder.com/50x50/007bff/ffffff?text=B'">
          <span>Блогер</span>
        </div>
        <div class="role-button" id="client-role">
          <img src="/assets/client_icon.jpg" alt="Client" onerror="this.src='https://via.placeholder.com/50x50/28a745/ffffff?text=C'">
          <span>Заказчик</span>
        </div>
      </div>
      
      <div class="form-group">
        <input type="text" id="name" placeholder="Имя и фамилия" required>
        <div class="error-message" id="name-error">Пожалуйста, введите имя и фамилию</div>
      </div>
      <div class="form-group">
        <input type="tel" id="phone" placeholder="Телефон (только цифры)" required pattern="[0-9]+" maxlength="15">
        <div class="error-message" id="phone-error">Введите корректный номер телефона (только цифры)</div>
      </div>
      <div class="form-group">
        <input type="email" id="email" placeholder="Email" required>
        <div class="error-message" id="email-error">Введите корректный email адрес</div>
      </div>
      <button class="button" id="registerBtn">Зарегистрироваться</button>
    </div>
  </div>

  <script>
    // Carousel functionality
    const carousel = document.getElementById('carousel');
    const slides = document.querySelectorAll('.slide');
    const indicatorsContainer = document.getElementById('indicators');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const registration = document.getElementById('registration');
    const bloggerRole = document.getElementById('blogger-role');
    const clientRole = document.getElementById('client-role');
    const registerBtn = document.getElementById('registerBtn');
    
    let currentSlide = 0;
    let selectedRole = null;
    
    // Create indicators
    slides.forEach((_, i) => {
      const indicator = document.createElement('div');
      indicator.classList.add('indicator');
      if (i === 0) indicator.classList.add('active');
      indicator.addEventListener('click', () => goToSlide(i));
      indicatorsContainer.appendChild(indicator);
    });
    
    // Update indicators
    function updateIndicators() {
      document.querySelectorAll('.indicator').forEach((indicator, i) => {
        if (i === currentSlide) {
          indicator.classList.add('active');
        } else {
          indicator.classList.remove('active');
        }
      });
    }
    
    // Go to specific slide
    function goToSlide(index) {
      currentSlide = index;
      carousel.style.transform = `translateX(-${currentSlide * 100}%)`;
      updateIndicators();
      
      // Update buttons
      prevBtn.style.display = currentSlide === 0 ? 'none' : 'block';
      
      if (currentSlide === slides.length - 1) {
        nextBtn.textContent = 'Начать';
      } else {
        nextBtn.textContent = 'Далее';
      }
    }
    
    // Next slide
    nextBtn.addEventListener('click', () => {
      if (currentSlide === slides.length - 1) {
        // Show registration
        carousel.style.display = 'none';
        indicatorsContainer.style.display = 'none';
        prevBtn.style.display = 'none';
        nextBtn.style.display = 'none';
        registration.classList.add('active');
      } else {
        goToSlide(currentSlide + 1);
      }
    });
    
    // Previous slide
    prevBtn.addEventListener('click', () => {
      if (currentSlide > 0) {
        goToSlide(currentSlide - 1);
      }
    });
    
    // Hide prev button on first slide
    prevBtn.style.display = 'none';
    
    // Role selection
    bloggerRole.addEventListener('click', () => {
      bloggerRole.classList.add('active');
      clientRole.classList.remove('active');
      selectedRole = 'blogger';
    });
    
    clientRole.addEventListener('click', () => {
      clientRole.classList.add('active');
      bloggerRole.classList.remove('active');
      selectedRole = 'client';
    });
    
    // Form validation functions
    function validateName(name) {
      return name.trim().length > 0;
    }
    
    function validatePhone(phone) {
      return /^[0-9]+$/.test(phone) && phone.length >= 10;
    }
    
    function validateEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    }
    
    // Input event listeners for validation
    const nameInput = document.getElementById('name');
    const phoneInput = document.getElementById('phone');
    const emailInput = document.getElementById('email');
    
    nameInput.addEventListener('input', () => {
      const isValid = validateName(nameInput.value);
      toggleError(nameInput, 'name-error', isValid);
    });
    
    phoneInput.addEventListener('input', (e) => {
      // Only allow numbers
      e.target.value = e.target.value.replace(/\D/g, '');
      const isValid = validatePhone(phoneInput.value);
      toggleError(phoneInput, 'phone-error', isValid);
    });
    
    emailInput.addEventListener('input', () => {
      const isValid = validateEmail(emailInput.value);
      toggleError(emailInput, 'email-error', isValid);
    });
    
    function toggleError(inputElement, errorId, isValid) {
      const errorElement = document.getElementById(errorId);
      if (!isValid) {
        inputElement.classList.add('error');
        errorElement.classList.add('visible');
      } else {
        inputElement.classList.remove('error');
        errorElement.classList.remove('visible');
      }
    }
    
    // Register button
    registerBtn.addEventListener('click', () => {
      const name = nameInput.value;
      const phone = phoneInput.value;
      const email = emailInput.value;
      
      const nameIsValid = validateName(name);
      const phoneIsValid = validatePhone(phone);
      const emailIsValid = validateEmail(email);
      
      toggleError(nameInput, 'name-error', nameIsValid);
      toggleError(phoneInput, 'phone-error', phoneIsValid);
      toggleError(emailInput, 'email-error', emailIsValid);
      
      if (!nameIsValid || !phoneIsValid || !emailIsValid || !selectedRole) {
        if (!selectedRole) {
          alert('Пожалуйста, выберите роль (Блогер или Заказчик)');
        }
        return;
      }
      
      // Save user data to localStorage
      localStorage.setItem('userData', JSON.stringify({
        name,
        phone,
        email,
        role: selectedRole
      }));
      
      // For demo purposes, redirect to main page
      window.location.href = '/main.html';
    });
  </script>
</body>
</html>