<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>UGC - Onboarding</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    html, body {
      height: 100%;
      width: 100%;
      overflow: hidden;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      background-color: #f5f5f5;
      color: #333;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      user-select: none;
    }
    
    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —è–≤–Ω—ã–º –æ—Ç—Å—Ç—É–ø–æ–º —Å–≤–µ—Ä—Ö—É –¥–ª—è —Ç–µ–ª–µ–≥—Ä–∞–º–º–æ–≤—Å–∫–∏—Ö –∫–Ω–æ–ø–æ–∫ */
    .container {
      width: 100%;
      height: 100%;
      overflow: hidden;
      position: relative;
      padding-top: env(safe-area-inset-top, 50px);
    }
    
    /* –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è registration-container */
    .registration-container {
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      height: 100%;
      padding-bottom: 80px; /* –ß—Ç–æ–±—ã –≤–Ω–∏–∑—É –±—ã–ª –æ—Ç—Å—Ç—É–ø –¥–ª—è –∫–Ω–æ–ø–∫–∏ */
    }
    
    .carousel {
      display: flex;
      width: 100%;
      height: calc(100% - 140px); /* –û—Å—Ç–∞–≤–ª—è–µ–º –º–µ—Å—Ç–æ –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
      transition: transform 0.5s ease;
    }
    
    .slide {
      min-width: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 20px;
      box-sizing: border-box;
      text-align: center;
    }
    
    .slide-content {
      max-width: 90%;
    }
    
    .emoji {
      font-size: 80px;
      margin-bottom: 30px;
    }
    
    h1 {
      font-size: 24px;
      margin-bottom: 15px;
    }
    
    p {
      font-size: 16px;
      line-height: 1.5;
      margin-bottom: 30px;
    }
    
    /* –ò–∑–º–µ–Ω—è–µ–º –ø–æ–ª–æ–∂–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
    .indicators {
      position: absolute;
      bottom: 80px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      gap: 10px;
      z-index: 5;
    }
    
    .indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: #ccc;
      cursor: pointer;
    }
    
    .indicator.active {
      background-color: #007bff;
    }
    
    .navigation {
      position: absolute;
      bottom: 20px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      gap: 20px;
      z-index: 5;
    }
    
    .button {
      padding: 12px 24px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 30px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s;
      -webkit-tap-highlight-color: transparent;
    }
    
    .button:hover {
      background-color: #0056b3;
    }
    
    .button.secondary {
      background-color: transparent;
      color: #007bff;
      border: 1px solid #007bff;
    }
    
    /* –°—Ç–∏–ª–∏ –¥–ª—è registration, —á—Ç–æ–±—ã –æ–Ω–∞ –≤—Å–µ–≥–¥–∞ –±—ã–ª–∞ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–π */
    .registration {
      display: none;
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      padding: 20px;
      box-sizing: border-box;
      background-color: #f5f5f5;
      z-index: 10;
      overflow-y: auto;
      padding-top: env(safe-area-inset-top, 50px);
      padding-bottom: env(safe-area-inset-bottom, 20px);
    }
    
    .registration.active {
      display: block;
    }
    
    .registration-inner {
      max-width: 500px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    /* –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Ñ–æ—Ä–º—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ - –¥–µ–ª–∞–µ–º –≤—Å–µ –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–º */
    .registration h1 {
      font-size: 24px;
      margin-bottom: 15px;
      text-align: center;
    }
    
    .registration p {
      font-size: 16px;
      line-height: 1.4;
      margin-bottom: 20px;
      text-align: center;
    }
    
    .role-buttons {
      display: flex;
      gap: 20px;
      margin-bottom: 25px;
      justify-content: center;
      width: 100%;
    }
    
    .role-button {
      flex: 1;
      max-width: 130px;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 15px;
      border: 2px solid #ddd;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .role-button.active {
      border-color: #007bff;
      background-color: rgba(0, 123, 255, 0.1);
    }
    
    .role-icon {
      font-size: 40px;
      margin-bottom: 10px;
    }
    
    .form-group {
      margin-bottom: 15px;
      width: 100%;
      max-width: 300px;
      position: relative;
    }
    
    input {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 16px;
    }
    
    input:focus {
      outline: none;
      border-color: #007bff;
    }
    
    input.error {
      border-color: #dc3545;
    }
    
    .error-message {
      color: #dc3545;
      font-size: 12px;
      margin-top: 5px;
      text-align: left;
      display: none;
    }
    
    .error-message.visible {
      display: block;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–µ–º */
    @media (prefers-color-scheme: dark) {
      body {
        background-color: #232323;
        color: #ffffff;
      }
      
      .role-button {
        border-color: #555;
      }
      
      input {
        background-color: #333;
        color: #fff;
        border-color: #555;
      }
      
      .button.secondary {
        color: #65a8ff;
        border-color: #65a8ff;
      }
      
      .card {
        background-color: #333;
      }
    }
    
    [data-theme="dark"] {
      background-color: #232323;
      color: #ffffff;
    }
    
    [data-theme="dark"] .role-button {
      border-color: #555;
    }
    
    [data-theme="dark"] input {
      background-color: #333;
      color: #fff;
      border-color: #555;
    }
    
    [data-theme="dark"] .registration {
      background-color: #232323;
    }
    
    /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã */
    @media screen and (max-height: 550px) {
      .carousel, .indicators {
        opacity: 0;
        pointer-events: none;
      }
      
      .registration {
        padding-top: 10px;
      }
      
      .registration h1 {
        font-size: 20px;
        margin-bottom: 5px;
      }
      
      .registration p {
        font-size: 14px;
        margin-bottom: 10px;
      }
      
      .role-buttons {
        margin-bottom: 10px;
      }
      
      .form-group {
        margin-bottom: 8px;
      }
      
      .role-button {
        padding: 8px;
      }
      
      .role-icon {
        font-size: 30px;
        margin-bottom: 5px;
      }
      
      .navigation {
        bottom: 10px;
      }
    }
    
    /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å –æ—Ç–∫—Ä—ã—Ç–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π */
    body.keyboard-open .carousel,
    body.keyboard-open .indicators {
      display: none;
    }
    
    body.keyboard-open .registration {
      display: block;
      padding-top: 0;
    }
    
    body.keyboard-open .navigation {
      bottom: 0;
      position: fixed;
    }
    
    body.keyboard-open .form-group {
      margin-bottom: 10px;
    }
    
    body.keyboard-open #registerBtn {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: calc(100% - 40px);
      max-width: 300px;
      z-index: 20;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Carousel -->
    <div class="carousel" id="carousel">
      <div class="slide">
        <div class="slide-content">
          <div class="emoji">üöÄ</div>
          <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ UGC</h1>
          <p>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞, —Å–æ–µ–¥–∏–Ω—è—é—â–∞—è –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã—Ö —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ –±—Ä–µ–Ω–¥—ã –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞</p>
        </div>
      </div>
      
      <div class="slide">
        <div class="slide-content">
          <div class="emoji">üì±</div>
          <h1>–ß—Ç–æ —Ç–∞–∫–æ–µ UGC?</h1>
          <p>UGC –∏–ª–∏ User-Generated Content ‚Äî —ç—Ç–æ –∫–æ–Ω—Ç–µ–Ω—Ç, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –¥–ª—è –±—Ä–µ–Ω–¥–æ–≤. –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ, –∞—É—Ç–µ–Ω—Ç–∏—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç –±–æ–ª—å—à–µ –¥–æ–≤–µ—Ä–∏—è —É –∞—É–¥–∏—Ç–æ—Ä–∏–∏.</p>
        </div>
      </div>
      
      <div class="slide">
        <div class="slide-content">
          <div class="emoji">üé¨</div>
          <h1>–î–ª—è –±–ª–æ–≥–µ—Ä–æ–≤</h1>
          <p>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –±—Ä–µ–Ω–¥–æ–≤, —Ä–∞—Å—à–∏—Ä—è–π—Ç–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –Ω–∞ —Å–≤–æ—ë–º —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–µ</p>
        </div>
      </div>
      
      <div class="slide">
        <div class="slide-content">
          <div class="emoji">üíº</div>
          <h1>–î–ª—è –±—Ä–µ–Ω–¥–æ–≤</h1>
          <p>–ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã–º —Å–æ–∑–¥–∞—Ç–µ–ª—è–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –≤–∞—à –ø—Ä–æ–¥—É–∫—Ç –≤ –ª—É—á—à–µ–º —Å–≤–µ—Ç–µ</p>
        </div>
      </div>
    </div>
    
    <!-- Indicators -->
    <div class="indicators" id="indicators"></div>
    
    <!-- Navigation -->
    <div class="navigation">
      <button class="button secondary" id="prevBtn">–ù–∞–∑–∞–¥</button>
      <button class="button" id="nextBtn">–î–∞–ª–µ–µ</button>
    </div>
    
    <!-- Registration -->
    <div class="registration" id="registration">
      <div class="registration-inner">
        <h1>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h1>
        <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å –∏ –Ω–∞—á–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É —Å UGC –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å</p>
        
        <div class="role-buttons">
          <div class="role-button" id="blogger-role">
            <div class="role-icon">üë©‚Äçüíª</div>
            <span>–ë–ª–æ–≥–µ—Ä</span>
          </div>
          <div class="role-button" id="client-role">
            <div class="role-icon">üè¢</div>
            <span>–ó–∞–∫–∞–∑—á–∏–∫</span>
          </div>
        </div>
        
        <div class="form-group">
          <input type="text" id="name" placeholder="–ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è" required>
          <div class="error-message" id="name-error">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é</div>
        </div>
        <div class="form-group">
          <input type="tel" id="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã)" required pattern="[0-9]+" maxlength="15">
          <div class="error-message" id="phone-error">–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã)</div>
        </div>
        <div class="form-group">
          <input type="email" id="email" placeholder="Email" required>
          <div class="error-message" id="email-error">–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å</div>
        </div>
        <button class="button" id="registerBtn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
      </div>
    </div>
  </div>

  <script>
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
    function enableFullscreen() {
      if (window.Telegram && window.Telegram.WebApp) {
        const webApp = window.Telegram.WebApp;
        
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
        if (typeof webApp.requestFullscreen === 'function') {
          webApp.requestFullscreen();
        } else {
          // –§–æ–ª–±—ç–∫ –Ω–∞ —Å—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥
          webApp.expand();
        }
        
        // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–≤–µ—Ç —Ç–µ–º—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å Telegram
        if (webApp.colorScheme === 'dark') {
          document.body.setAttribute('data-theme', 'dark');
        }
      }
    }
    
    // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∫—Ä–∏–ø—Ç–∞
    (function() {
      enableFullscreen();
    })();
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
    document.addEventListener('DOMContentLoaded', function() {
      enableFullscreen();
      
      if (window.Telegram && window.Telegram.WebApp) {
        const webApp = window.Telegram.WebApp;
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
        if (typeof webApp.onEvent === 'function') {
          webApp.onEvent('viewportChanged', enableFullscreen);
        }
      }
    });
    
    // –ó–∞–ø—Ä–æ—Å –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    window.onload = function() {
      setTimeout(enableFullscreen, 100);
    };
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
    let originalHeight = window.innerHeight;
    let keyboardVisible = false;
    
    function handleKeyboardAppearance() {
      const currHeight = window.innerHeight;
      
      if (currHeight < originalHeight * 0.8) {
        // –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –æ—Ç–∫—Ä—ã—Ç–∞
        if (!keyboardVisible) {
          document.body.classList.add('keyboard-open');
          keyboardVisible = true;
          
          // –ï—Å–ª–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω —Ä–µ–∂–∏–º —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –¥–µ–ª–∞–µ–º –µ–≥–æ —Ñ–æ–∫—É—Å–Ω—ã–º
          if (document.getElementById('registration').classList.contains('active')) {
            const activeElement = document.activeElement;
            if (activeElement.tagName === 'INPUT') {
              // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –∞–∫—Ç–∏–≤–Ω–æ–º—É –ø–æ–ª—é —Å –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
              setTimeout(() => {
                activeElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
              }, 300);
            }
          }
        }
      } else if (currHeight > originalHeight * 0.9) {
        // –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å–∫—Ä—ã—Ç–∞
        document.body.classList.remove('keyboard-open');
        keyboardVisible = false;
        originalHeight = Math.max(originalHeight, currHeight);
      }
    }
    
    // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ (–ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)
    window.addEventListener('resize', handleKeyboardAppearance);
    
    // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–ª—è –≤–≤–æ–¥–∞
    document.querySelectorAll('input').forEach(input => {
      input.addEventListener('focus', function() {
        if (window.innerHeight < originalHeight * 0.8) {
          // –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —É–∂–µ –æ—Ç–∫—Ä—ã—Ç–∞, –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ –ø–æ–ª—é
          setTimeout(() => {
            this.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }, 300);
        }
      });
    });
    
    // Disable page scrolling
    document.addEventListener('touchmove', function(e) {
      e.preventDefault();
    }, { passive: false });
    
    // Carousel functionality
    const carousel = document.getElementById('carousel');
    const slides = document.querySelectorAll('.slide');
    const indicatorsContainer = document.getElementById('indicators');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const registration = document.getElementById('registration');
    const bloggerRole = document.getElementById('blogger-role');
    const clientRole = document.getElementById('client-role');
    const registerBtn = document.getElementById('registerBtn');
    
    let currentSlide = 0;
    let selectedRole = null;
    
    // Create indicators
    slides.forEach((_, i) => {
      const indicator = document.createElement('div');
      indicator.classList.add('indicator');
      if (i === 0) indicator.classList.add('active');
      indicator.addEventListener('click', () => goToSlide(i));
      indicatorsContainer.appendChild(indicator);
    });
    
    // Update indicators
    function updateIndicators() {
      document.querySelectorAll('.indicator').forEach((indicator, i) => {
        if (i === currentSlide) {
          indicator.classList.add('active');
        } else {
          indicator.classList.remove('active');
        }
      });
    }
    
    // Go to specific slide
    function goToSlide(index) {
      currentSlide = index;
      carousel.style.transform = `translateX(-${currentSlide * 100}%)`;
      updateIndicators();
      
      // Update buttons
      prevBtn.style.display = currentSlide === 0 ? 'none' : 'block';
      
      if (currentSlide === slides.length - 1) {
        nextBtn.textContent = '–ù–∞—á–∞—Ç—å';
      } else {
        nextBtn.textContent = '–î–∞–ª–µ–µ';
      }
    }
    
    // Next slide
    nextBtn.addEventListener('click', () => {
      if (currentSlide === slides.length - 1) {
        // Show registration
        carousel.style.display = 'none';
        indicatorsContainer.style.display = 'none';
        prevBtn.style.display = 'none';
        nextBtn.style.display = 'none';
        registration.classList.add('active');
      } else {
        goToSlide(currentSlide + 1);
      }
    });
    
    // Previous slide
    prevBtn.addEventListener('click', () => {
      if (currentSlide > 0) {
        goToSlide(currentSlide - 1);
      }
    });
    
    // Swipe functionality
    let touchStartX = 0;
    let touchEndX = 0;
    
    carousel.addEventListener('touchstart', e => {
      touchStartX = e.changedTouches[0].screenX;
    });
    
    carousel.addEventListener('touchend', e => {
      touchEndX = e.changedTouches[0].screenX;
      handleSwipe();
    });
    
    function handleSwipe() {
      const swipeThreshold = 50;
      if (touchEndX < touchStartX - swipeThreshold) {
        // Swipe left, go to next slide
        if (currentSlide < slides.length - 1) {
          goToSlide(currentSlide + 1);
        }
      }
      
      if (touchEndX > touchStartX + swipeThreshold) {
        // Swipe right, go to previous slide
        if (currentSlide > 0) {
          goToSlide(currentSlide - 1);
        }
      }
    }
    
    // Hide prev button on first slide
    prevBtn.style.display = 'none';
    
    // Role selection
    bloggerRole.addEventListener('click', () => {
      bloggerRole.classList.add('active');
      clientRole.classList.remove('active');
      selectedRole = 'blogger';
    });
    
    clientRole.addEventListener('click', () => {
      clientRole.classList.add('active');
      bloggerRole.classList.remove('active');
      selectedRole = 'client';
    });
    
    // Form validation functions
    function validateName(name) {
      return name.trim().length > 0;
    }
    
    function validatePhone(phone) {
      return /^[0-9]+$/.test(phone) && phone.length >= 10;
    }
    
    function validateEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    }
    
    // Input event listeners for validation
    const nameInput = document.getElementById('name');
    const phoneInput = document.getElementById('phone');
    const emailInput = document.getElementById('email');
    
    nameInput.addEventListener('input', () => {
      const isValid = validateName(nameInput.value);
      toggleError(nameInput, 'name-error', isValid);
    });
    
    phoneInput.addEventListener('input', (e) => {
      // Only allow numbers
      e.target.value = e.target.value.replace(/\D/g, '');
      const isValid = validatePhone(phoneInput.value);
      toggleError(phoneInput, 'phone-error', isValid);
    });
    
    emailInput.addEventListener('input', () => {
      const isValid = validateEmail(emailInput.value);
      toggleError(emailInput, 'email-error', isValid);
    });
    
    function toggleError(inputElement, errorId, isValid) {
      const errorElement = document.getElementById(errorId);
      if (!isValid) {
        inputElement.classList.add('error');
        errorElement.classList.add('visible');
      } else {
        inputElement.classList.remove('error');
        errorElement.classList.remove('visible');
      }
    }
    
    // Register button
    registerBtn.addEventListener('click', () => {
      // –°–∫—Ä—ã–≤–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –ø–µ—Ä–µ–¥ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–∞–Ω–Ω—ã—Ö
      if (document.activeElement && (document.activeElement.tagName === 'INPUT' || document.activeElement.tagName === 'TEXTAREA')) {
        document.activeElement.blur();
      }
      
      const name = nameInput.value;
      const phone = phoneInput.value;
      const email = emailInput.value;
      
      const nameIsValid = validateName(name);
      const phoneIsValid = validatePhone(phone);
      const emailIsValid = validateEmail(email);
      
      toggleError(nameInput, 'name-error', nameIsValid);
      toggleError(phoneInput, 'phone-error', phoneIsValid);
      toggleError(emailInput, 'email-error', emailIsValid);
      
      if (!nameIsValid || !phoneIsValid || !emailIsValid || !selectedRole) {
        if (!selectedRole) {
          alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å (–ë–ª–æ–≥–µ—Ä –∏–ª–∏ –ó–∞–∫–∞–∑—á–∏–∫)');
        }
        return;
      }
      
      // Save user data to localStorage
      const userData = {
        name,
        phone,
        email,
        role: selectedRole,
        isRegistered: true
      };
      
      localStorage.setItem('userData', JSON.stringify(userData));
      
      // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏
      document.querySelectorAll('button').forEach(button => {
        button.disabled = false;
      });
      
      // –°—Ä–∞–∑—É –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
      window.location.href = '/main.html';
    });
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    window.addEventListener('load', () => {
      const userData = localStorage.getItem('userData');
      if (userData) {
        const user = JSON.parse(userData);
        if (user.isRegistered) {
          // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω, –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏
          document.querySelectorAll('button').forEach(button => {
            button.disabled = false;
          });
          
          // –ï—Å–ª–∏ –º—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é
          if (window.location.pathname === '/' || window.location.pathname === '/index.html') {
            window.location.href = '/main.html';
          }
        }
      }
    });
  </script>
</body>
</html>